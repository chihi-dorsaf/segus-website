<div class="calendar-container">
  <!-- En-tête du calendrier -->
  <div class="calendar-header">
    <div class="calendar-navigation">
      <button class="btn btn-outline-primary" (click)="previousMonth()">
        <i class="fas fa-chevron-left"></i>
      </button>
      
      <h2 class="calendar-title">
        {{ months[currentDate.getMonth()] }} {{ currentDate.getFullYear() }}
      </h2>
      
      <button class="btn btn-outline-primary" (click)="nextMonth()">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    
    <button class="btn btn-primary" (click)="goToToday()">
      <i class="fas fa-calendar-day"></i>
      Aujourd'hui
    </button>
  </div>

  <div class="calendar-content">
    <!-- Calendrier -->
    <div class="calendar-grid-container">
      <!-- Jours de la semaine -->
      <div class="weekdays-header">
        <div class="weekday" *ngFor="let day of weekDays">{{ day }}</div>
      </div>

      <!-- Grille du calendrier -->
      <div class="calendar-grid">
        <div 
          class="calendar-day" 
          *ngFor="let day of calendarDays"
          [ngClass]="{
            'other-month': !day.isCurrentMonth,
            'today': day.isToday,
            'selected': day.isSelected,
            'has-events': day.events.length > 0
          }"
          (click)="selectDate(day)">
          
          <div class="day-number">{{ day.day }}</div>
          
          <div class="day-events" *ngIf="day.events.length > 0">
            <div 
              class="event-dot" 
              *ngFor="let event of day.events.slice(0, 3)"
              [ngClass]="'bg-' + getEventTypeColor(event.type)"
              [title]="event.title + ' - ' + event.time">
            </div>
            <div class="more-events" *ngIf="day.events.length > 3">
              +{{ day.events.length - 3 }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Panneau des événements -->
    <div class="events-panel">
      <h3 class="events-title">
        <i class="fas fa-calendar-alt"></i>
        Événements du {{ selectedDate.toLocaleDateString('fr-FR') }}
      </h3>

      <div class="events-list" *ngIf="selectedEvents.length > 0; else noEvents">
        <div class="event-item" *ngFor="let event of selectedEvents">
          <div class="event-time">
            <i class="fas fa-clock"></i>
            {{ event.time }}
          </div>
          
          <div class="event-content">
            <div class="event-header">
              <h4 class="event-title">
                <i class="fas" [ngClass]="getEventTypeIcon(event.type)"></i>
                {{ event.title }}
              </h4>
              <span class="event-type" [ngClass]="'badge bg-' + getEventTypeColor(event.type)">
                {{ event.type }}
              </span>
            </div>
            
            <p class="event-description" *ngIf="event.description">
              {{ event.description }}
            </p>
          </div>
        </div>
      </div>

      <ng-template #noEvents>
        <div class="no-events">
          <i class="fas fa-calendar-times"></i>
          <p>Aucun événement prévu pour cette date</p>
        </div>
      </ng-template>

      <!-- Actions rapides -->
      <div class="quick-actions">
        <button class="btn btn-success btn-sm">
          <i class="fas fa-plus"></i>
          Ajouter un événement
        </button>
        
        <button class="btn btn-outline-primary btn-sm">
          <i class="fas fa-sync"></i>
          Actualiser
        </button>
      </div>
    </div>
  </div>
</div>
